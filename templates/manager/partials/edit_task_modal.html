<div class="modal fade" id="editTaskModal{{ task.id }}" tabindex="-1" aria-labelledby="editTaskModalLabel{{ task.id }}" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <form method="POST" action="{% url 'edit_task' task.id %}">
        {% csrf_token %}
        <div class="modal-header">
          <h5 class="modal-title" id="editTaskModalLabel{{ task.id }}">Edit Task</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
        <div class="mb-3">
            <label for="editProjectName{{ task.id }}" class="form-label">Project Name</label>
            <input type="text" name="project_name" id="editProjectName{{ task.id }}" value="{{ task.project.name }}" class="form-control" placeholder="Enter project name">
        </div>
          <div class="mb-3">
            <label for="editTaskTitle{{ task.id }}" class="form-label">Title</label>
            <input type="text" name="title" id="editTaskTitle{{ task.id }}" value="{{ task.title }}" class="form-control" required>
          </div>

          <div class="mb-3">
            <label for="editTaskStatus{{ task.id }}" class="form-label">Status</label>
            <select name="status" id="editTaskStatus{{ task.id }}" class="form-select">
              <option value="todo" {% if task.status == "todo" %}selected{% endif %}>To Do</option>
              <option value="in_progress" {% if task.status == "in_progress" %}selected{% endif %}>In Progress</option>
              <option value="review" {% if task.status == "review" %}selected{% endif %}>Review</option>
              <option value="done" {% if task.status == "done" %}selected{% endif %}>Done</option>
            </select>
          </div>
          <div class="mb-3">
            <label for="editTaskType{{ task.id }}" class="form-label">Type</label>
            <select name="task_type" id="editTaskType{{ task.id }}" class="form-select">
              {% for type in task_types %}
                <option value="{{ type }}" {% if task.task_type == type %}selected{% endif %}>{{ type }}</option>
              {% endfor %}
            </select>
          </div>
          <div class="mb-3">
            <label for="editDueDate{{ task.id }}" class="form-label">Due Date</label>
            <input type="date" name="due_date" id="editDueDate{{ task.id }}" value="{{ task.due_date|date:'Y-m-d' }}" class="form-control">
          </div>
          <div class="mb-3">
            <label for="editPriority{{ task.id }}" class="form-label">Priority</label>
            <select name="priority" id="editPriority{{ task.id }}" class="form-select">
              <option value="Low" {% if task.priority == "Low" %}selected{% endif %}>Low</option>
              <option value="Medium" {% if task.priority == "Medium" %}selected{% endif %}>Medium</option>
              <option value="High" {% if task.priority == "High" %}selected{% endif %}>High</option>
            </select>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
          <button type="submit" class="btn btn-primary">Save Changes</button>
        </div>
      </form>
    </div>
  </div>
</div>